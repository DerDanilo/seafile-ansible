# hosts 变量声明

整个集群中的主机可分为四个组：数据库服务器组、cache服务器组、Seafile后端节点服务器组和Seafile前端服务器组

## 数据库服务器组：

```
[dbservers]
192.168.1.175 loader="true"
192.168.1.173 loader="false"
192.168.1.145 loader="false"
```
1. 请勿随意修改服务器组名。
2. 'loader'为数据库服务器主机变量名，用于标记数据库集群中的引导节点，正常情况下有且仅有一个节点作为引导节点。
3. 变量值为字符串格式。

## cache服务器组：

```
[cacheservers]
192.168.1.175
192.168.1.173
```
1. 请勿随意修改服务器组名。
2. cache服务应该部署在数据库集群中的两个节点上，并且其中一个节点应该是数据库集群的引导节点。

## Seafile后端节点服务器：

```
[seafile_backgrounds]
192.168.1.176 nginx_port=80
```
1. 请勿随意修改服务器组名。
2. Seafile后端节点上的nginx服务正常情况下应该监听在80端口上。
3. 'nginx_port'正是用来定义nginx服务的监听端口的，此处建议80端口。

## Seafile前端服务器组：

```
[seafile_webs]
192.168.1.170 nginx_port=8001 master_web='true'
192.168.1.181 nginx_port=8001 master_web='false'
```
1. 请勿随意修改服务器组名。
2. Seafile前端节点上的nginx服务不应该监听在80端口上，因为80端口应该留给负载均衡服务HAproxy来监听
3. 'nginx_port'正是用来定义nginx服务的监听端口的，如果您不知道应该使用什么合适的端口来避免冲突，使用此处的建议端口8001即可。
4. 'master_web'变量用来标记一个Seafile前端节点是否为'master'；虽然实际使用上并不会区分两个前端节点的角色，但为了高可用HAproxy，我们应该将其中一个节点看作'master'，但实际上两个节点会同时响应不同用户的请求。
5. 'master_web'变量值为字符串格式


**温馨提示**：该文件中定义的主机地址均为示例地址，请根据实际环境做相应修改。